---
slug: /guides/rsocket-py/tutorial/base
title: Getting started
sidebar_label: Getting started
---

In this step we will set-up a minimal example server/client code required by rsocket.

## Server side

Let's set up a simple server which will accept connections and respond to the client sending the user's name.
The server will listen on TCP port 6565.

Here is the basic code for the server.py module:

```py
import asyncio

from rsocket.frame_helpers import ensure_bytes
from rsocket.helpers import create_future, utf8_decode
from rsocket.local_typing import Awaitable
from rsocket.payload import Payload
from rsocket.request_handler import BaseRequestHandler
from rsocket.rsocket_server import RSocketServer
from rsocket.transports.tcp import TransportTCP


class Handler(BaseRequestHandler):
    async def request_response(self, payload: Payload) -> Awaitable[Payload]:
        username = utf8_decode(payload.data)
        return create_future(Payload(ensure_bytes(f'Welcome to chat, {username}')))


async def run_server():
    def session(*connection):
        RSocketServer(TransportTCP(*connection), handler_factory=Handler)

    async with await asyncio.start_server(session, 'localhost', 6565) as server:
        await server.serve_forever()


if __name__ == '__main__':
    asyncio.run(run_server())

```

Line 24-25 start a standard TCP server using the asyncio module.

Lines 21-22 define that the response to this session will be an RSocketServer instance.
There is no need to specify anything else here since the RSocketServer starts internal
tasks which listen for requests, and responds accordingly.

The 2 parameters passed are:
- transport : An instance of a supported connection method. In this case it is an adapter over the TCP connection.
- handler_factory: A callable which returns an RSocketHandler instance. This will be used to respond to the chat client's requests.

In the example, the handler factory is a subclass of BaseRequestHandler.

Lines 13-15 define a handler for a 'response' request, which simply welcome the user.

The username is taken from the data property of the payload, and a response is created using helper methods from the rsocket package:
- create_future : This creates a future which contains the response data.
- str_to_bytes : All values in a response must be either bytes or bytearrays. This method encodes str to bytes and assumes utf-8 for the input.

Next we will look at a simple client which connects to this server.

## Client side

The client will connect to the server, send a single "response" request and disconnect.

Here is the basic code for the client.py module:

```py
import asyncio

from rsocket.helpers import single_transport_provider, utf8_decode
from rsocket.payload import Payload
from rsocket.rsocket_client import RSocketClient
from rsocket.transports.tcp import TransportTCP


async def main():
    connection = await asyncio.open_connection('localhost', 6565)

    async with RSocketClient(single_transport_provider(TransportTCP(*connection))) as client:
        response = await client.request_response(Payload(data=b'George'))

        print(f"Server response: {utf8_decode(response.data)}")


if __name__ == '__main__':
    asyncio.run(main())

```
