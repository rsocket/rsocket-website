"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[500],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a=r.createContext({}),l=function(e){var t=r.useContext(a),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=l(e.components);return r.createElement(a.Provider,{value:t},e.children)},u="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},b=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,c=e.originalType,a=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=l(n),b=o,d=u["".concat(a,".").concat(b)]||u[b]||k[b]||c;return n?r.createElement(d,s(s({ref:t},p),{},{components:n})):r.createElement(d,s({ref:t},p))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var c=n.length,s=new Array(c);s[0]=b;var i={};for(var a in t)hasOwnProperty.call(t,a)&&(i[a]=t[a]);i.originalType=e,i[u]="string"==typeof e?e:o,s[1]=i;for(var l=2;l<c;l++)s[l]=n[l];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}b.displayName="MDXCreateElement"},1308:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>b,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var r=n(7462),o=n(3366),c=(n(7294),n(3905)),s=["components"],i={slug:"/guides/rsocket-js/client/rsocket-websocket-client",title:"RSocketWebsocketClient - rsocket-js",sidebar_label:"WebSocket Client"},a=void 0,l={unversionedId:"guides/rsocket-js/client/rsocket-websocket-client",id:"guides/rsocket-js/client/rsocket-websocket-client",title:"RSocketWebsocketClient - rsocket-js",description:"The RSocketWebsocketClient implements the RScocket protocol using the WebSocket network transport protocol, and is suitable for Server to Server, and Client to Server scenarios where raw TCP is not available, such as in a web browser.",source:"@site/content-docs/guides/rsocket-js/client/rsocket-websocket-client.mdx",sourceDirName:"guides/rsocket-js/client",slug:"/guides/rsocket-js/client/rsocket-websocket-client",permalink:"/guides/rsocket-js/client/rsocket-websocket-client",draft:!1,editUrl:"https://github.com/rsocket/rsocket-website/edit/master/content-docs/guides/rsocket-js/client/rsocket-websocket-client.mdx",tags:[],version:"current",lastUpdatedBy:"jell-o-fishi",lastUpdatedAt:1696904070,formattedLastUpdatedAt:"Oct 10, 2023",frontMatter:{slug:"/guides/rsocket-js/client/rsocket-websocket-client",title:"RSocketWebsocketClient - rsocket-js",sidebar_label:"WebSocket Client"},sidebar:"guides",previous:{title:"TCP Client",permalink:"/guides/rsocket-js/client/rsocket-tcp-client"},next:{title:"Introduction",permalink:"/guides/rsocket-js/server"}},p={},u=[{value:"WebSocket Client Quick Start Example",id:"websocket-client-quick-start-example",level:3}],k={toc:u};function b(e){var t=e.components,n=(0,o.Z)(e,s);return(0,c.kt)("wrapper",(0,r.Z)({},k,n,{components:t,mdxType:"MDXLayout"}),(0,c.kt)("p",null,"The ",(0,c.kt)("inlineCode",{parentName:"p"},"RSocketWebsocketClient")," implements the RScocket protocol using the WebSocket network transport protocol, and is suitable for Server to Server, and Client to Server scenarios where raw TCP is not available, such as in a web browser."),(0,c.kt)("h3",{id:"websocket-client-quick-start-example"},"WebSocket Client Quick Start Example"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre"},"npm install rsocket-core rsocket-websocket-client\n")),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-js"},"const { RSocketClient } = require('rsocket-core');\nconst RSocketWebsocketClient = require('rsocket-websocket-client').default;\nconst WebSocket = require('ws');\n\nasync function createClient(options) {\n  const transportOptions = {\n    url: 'ws://`${options.host}`:${options.port}',\n    // In non-browser environments we need to provide a\n    // factory method which can return an instance of a\n    // websocket object. Browsers however, have this\n    // functionality built-in.\n    wsCreator: (url) => {\n      return new WebSocket(url);\n    }\n  };\n  const setupOptions = {\n    keepAlive: 1000000,\n    lifetime: 100000,\n    dataMimeType: 'text/plain',\n    metadataMimeType: 'text/plain'\n  };\n  const transport = new RSocketWebsocketClient(transportOptions);\n  const client = new RSocketClient({ setup: setupOptions, transport });\n  return await client.connect();\n}\n\nasync function run() {\n  const rsocket = await createClient({\n    host: '127.0.0.1',\n    port: 9898,\n  });\n\n  ...\n}\n\nawait run();\n")))}b.isMDXComponent=!0}}]);